<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta name="generator" content="Hexo 3.8.0" />
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <meta
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no"
      name="viewport"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="description" content="Only a blog" />
    <meta name="author" content="Emiyagm" />
    <meta name="keywords" content="Blog,博客,Emiyagm" />
    <title>Emiyagm&#39;s blog</title>
    <link rel="stylesheet" href="/css/Material_Icons.css" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="stylesheet" href="/css/weather.css" />
  </head>

  <body class=" sidebar-collapse">
    <nav
      class="navbar navbar-transparent navbar-color-on-scroll fixed-top navbar-expand-lg"
      color-on-scroll="100"
      id="sectionsNav"
    >
      <div class="container">
        <div class="navbar-translate">
          <a class="navbar-brand" href="/"> Emiyagm&#39;s blog</a>
          <button
            class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon"></span>
            <span class="navbar-toggler-icon"></span>
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                archives
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" href="/about/">
                about
              </a>
            </li>

            <li class="nav-item">
              <a
                class="nav-link"
                rel="tooltip"
                title
                data-placement="bottom"
                href="https://github.com/"
                target="_blank"
                data-original-title="See me here"
              >
                <i class="fa fa-github"></i>
              </a>
            </li>

            <li class="nav-item">
              <a
                class="nav-link"
                rel="tooltip"
                title
                data-placement="bottom"
                href="https://twitter.com/"
                target="_blank"
                data-original-title="See me here"
              >
                <i class="fa fa-twitter"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div
      class="page-header header-filter"
      data-parallax="false"
      style="background-image: url('/img/index-banner.jpg'); height: 100vh;"
    >
      <div class="container">
        <h1 class="title text-center">Create the world</h1>
      </div>
    </div>

    <div class="main main-raised">
      <div class="container">
        <div class="section">
          <div class="row">
            <div class="col-md-10 offset-md-1">
              <div class="row post-card">
                <div class="col-md-11">
                  <a
                    href="/2019/07/18/20180719/"
                    class="h3 title"
                    target="_self"
                    >关于react组件生命周期的妙用</a
                  >

                  <p>
                    今天早上处理了一个bug，主要情况是这样的：我们通过markettable这个组件的一个state叫做activekey来控制该组件内的tab的选中项，tab的内容是数据展示的表格，并且每一条数据都可以收藏和取消收藏，最后有一个收藏的tab项来查看收藏的数据。需求是，当该用户的收藏中有数据，那么在进入该页面的时候，tab默认切换到收藏项上，如果收藏...
                  </p>

                  <p class="h6">
                    <i class="material-icons">date_range</i>2019-07-18
                  </p>
                </div>
              </div>

              <div class="row post-card">
                <div class="col-md-11">
                  <a
                    href="/2019/06/25/20180718/"
                    class="h3 title"
                    target="_self"
                    >关于react中更新state来渲染局部页面的加深理解</a
                  >

                  <p>
                    最近换了新的工作，也开始学习新的前端框架react，由于之前我一直都是使用原生JavaScript和jQuery的结合，对于dom操作这一块，十分随意。大家都知道，jQuery提供了很方便的方法来获取dom节点并进行操作，例如，对于一个img点击更换图片地址的功能，我们在jQuery中会这么写：
                    &lt;img src=&quot;1.png&qu...
                  </p>

                  <p class="h6">
                    <i class="material-icons">date_range</i>2019-06-25
                  </p>
                </div>
              </div>

              <div class="row post-card">
                <div class="col-md-11">
                  <a
                    href="/2019/03/09/hello-world/"
                    class="h3 title"
                    target="_self"
                    >Hello Hexo</a
                  >

                  <p>
                    自建站博客实例 文章内容会同步更新我的 GitHub blog 项目里的
                    issues 内容 ...
                  </p>

                  <p class="h6">
                    <i class="material-icons">date_range</i>2019-03-09
                  </p>
                </div>
              </div>

              <br /><br />
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer footer-default">
      <div class="container">
        <div class="float-left" style="padding: 15px 0;">
          <b>EmiyaGm</b>
        </div>
        <div class="weather float-left"></div>
        <div class="copyright float-right">
          &copy;
          <script>
            document.write(new Date().getFullYear());</script
          >&nbsp;<a href="https://hexo.io/zh-cn/" target="_blank">HEXO</a
          >&nbsp;<i class="material-icons">favorite_border</i>
          <a href="https://github.com/invom/Material-T" target="_blank"
            >Material-T</a
          >
        </div>
      </div>
    </footer>
    <!--   Core JS Files   -->
    <script src="/js/core/jquery.min.js?v=3.2.1"></script>
    <script src="/js/main.js"></script>
    <script src="/js/core/popper.min.js"></script>
    <script src="/js/core/bootstrap-material-design.min.js"></script>
    <script src="/js/plugins/moment.min.js"></script>
    <!-- Control Center for Material Kit: parallax effects, scripts for the example pages etc -->
    <script src="/js/material-kit.min.js?v=2.0.5"></script>
    <script
      type="text/javascript"
      src="https://webapi.amap.com/maps?v=1.4.15&key=4e71844eac7098f310a3882ada4ac143&plugin=AMap.CitySearch"
    ></script>
    <script>
      //获取用户所在城市信息
      function getWeather() {
        var latitude = "";
        var longitude = "";
        var map = new AMap.Map("container", {
          resizeEnable: true,
          center: [116.486409, 39.921489],
          zoom: 12
        });
        //实例化城市查询类
        var citysearch = new AMap.CitySearch();
        //自动获取用户IP，返回当前城市
        citysearch.getLocalCity(function(status, result) {
          if (status === "complete" && result.info === "OK") {
            if (result && result.city && result.bounds) {
              var cityinfo = result.city;
              var citybounds = result.bounds;
              AMap.plugin("AMap.Weather", function() {
                var weather = new AMap.Weather();
                //查询实时天气信息, 查询的城市到行政级别的城市，如朝阳区、杭州市
                weather.getLive(cityinfo, function(err, data) {
                  if (!err) {
                    if (data && data.weather) {
                      switch (data.weather) {
                        case "晴":
                          $(".weather").html(
                            `<div class="weatherSunny">
                              <div class="sunny">
                                <span class="sun" />
                              </div>
                            </div>`
                          );
                          break;
                        case "多云":
                          $(".weather").html(
                            `<div class="weatherCloudy">
                              <div class="cloudy">
                                <span class="cloud" />
                                <span class="cloud" />
                              </div>
                            </div>`
                          );
                          break;
                        case "小雪":
                          $(".weather").html(
                            `<div class="weatherSnowy">
                              <div class="snowy">
                                <span class="snowman" />
                                <ul>
                                  <li />
                                  <li />
                                  <li />
                                  <li />
                                  <li />
                                  <li />
                                  <li />
                                  <li />
                                  <li />
                                  <li />
                                  <li />
                                  <li />
                                  <li />
                                </ul>
                              </div>
                            </div>`
                          );
                          break;
                        case "小雨":
                          $(".weather").html(
                            `<div class="weatherStormy">
                              <div class="stormy">
                                <span class="cloud" />
                                <ul>
                                  <li />
                                  <li />
                                  <li />
                                  <li />
                                  <li />
                                </ul>
                              </div>
                            </div>`
                          );
                          break;
                        default:
                          $(".weather").html(
                            `<div class="weatherSupermoon">
                              <div class="supermoon">
                                <span class="moon" />
                                <span class="meteor" />
                              </div>
                            </div>`
                          );
                          break;
                      }
                    }
                    console.log(data);
                  }
                });
              });
            }
          }
        });
      }
      getWeather();
    </script>
  </body>
</html>
